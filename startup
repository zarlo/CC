os.loadApi("lib/commom")

os.loadApi("Turtle/tst")


local tngetOptions = { "get ", "run ", "pack " }
local function completenget( shell, nIndex, sText, tPreviousText )
    if nIndex == 1 then
        return completeMultipleChoice( sText, tngetOptions )
    elseif nIndex == 2 then
        if tPreviousText[2] == "put" then
            
        end
    end
end

shell.setCompletionFunction( "nget", completenget )

--run user auto run
if fs.exists( "/autorun" ) and fs.isDir( "/autorun" ) then
	local tFiles = fs.list( "/autorun" )
	table.sort( tFiles )
	for n, sFile in ipairs( tFiles ) do
		if string.sub( sFile, 1, 1 ) ~= "." then
			local sPath = "/autorun/"..sFile
			if not fs.isDir( sPath ) then
				shell.run( sPath )
			end
		end
	end
end